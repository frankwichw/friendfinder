<!DOCTYPE html>
<html lang="en-us">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>
		Survey
	</title>

	<!-- <link rel="stylesheet" type="text/css" href="assets/css/reset.css"> -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css" integrity="sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ" crossorigin="anonymous">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
	
</head>
<body>
<!-- match modal -->
<div class="modal fade" id="mymodal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
	<div class="modal-dialog" role="document">
		<div class="modal-content">
			<div class="modal-header">
				<h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
				<button type="button" class="close" data-dismiss="modal" aria-label="Close">
					<span aria-hidden="true">&times;</span>
				</button>
			</div>
			<div class="modal-body">
				...
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
				<button type="button" class="btn btn-primary">Save changes</button>
			</div>
		</div>
	</div>
</div>

<div class='container'>
	<h1>Survey Questions</h1>
	<hr>
	<h2>About You</h2>
	<h4>Name (Required)</h4>
	<input id='your-name' type='text' class='form-control'>
	<h4>Link to photo image (Required)</h4>
	<input id='your-photo' type='text' class='form-control'>
	<hr>
	<h2>Question 1</h2>
	<h4>You have a favorite spot to sit in your house.</h4>
	<select class='chosen-select' id='q1'>
		<option value></option>
		<option value='1'> 1 (Strongly disagree)</option>
		<option value='2'> 2 </option>
		<option value='3'> 3 </option>
		<option value='4'> 4 </option>
		<option value='5'> 5 (Strongly agree)</option>
	</select>
	<h2>Question 2</h2>
	<h4>Nothing bothers you more than a disrupted routine.</h4>
	<select class='chosen-select' id='q2'>
		<option value></option>
		<option value='1'> 1 (Strongly disagree)</option>
		<option value='2'> 2 </option>
		<option value='3'> 3 </option>
		<option value='4'> 4 </option>
		<option value='5'> 5 (Strongly agree)</option>
	</select>
	<h2>Question 3</h2>
	<h4>You find it easy to stay relaxed even when there are guests in your house.</h4>
	<select class='chosen-select' id='q3'>
		<option value></option>
		<option value='1'> 1 (Strongly disagree)</option>
		<option value='2'> 2 </option>
		<option value='3'> 3 </option>
		<option value='4'> 4 </option>
		<option value='5'> 5 (Strongly agree)</option>
	</select>
	<h2>Question 4</h2>
	<h4>You value hygiene.</h4>
	<select class='chosen-select' id='q4'>
		<option value></option>
		<option value='1'> 1 (Strongly disagree)</option>
		<option value='2'> 2 </option>
		<option value='3'> 3 </option>
		<option value='4'> 4 </option>
		<option value='5'> 5 (Strongly agree)</option>
	</select>
	<h2>Question 5</h2>
	<h4>You respond well to positive reinforcement.</h4>
	<select class='chosen-select' id='q5'>
		<option value></option>
		<option value='1'> 1 (Strongly disagree)</option>
		<option value='2'> 2 </option>
		<option value='3'> 3 </option>
		<option value='4'> 4 </option>
		<option value='5'> 5 (Strongly agree)</option>
	</select>
	<h2>Question 6</h2>
	<h4>You rarely bring dead animals into the house, and when you do, you don't leave them on the floor.</h4>
	<select class='chosen-select' id='q6'>
		<option value></option>
		<option value='1'> 1 (Strongly disagree)</option>
		<option value='2'> 2 </option>
		<option value='3'> 3 </option>
		<option value='4'> 4 </option>
		<option value='5'> 5 (Strongly agree)</option>
	</select>
	<h2>Question 7</h2>
	<h4>You are an affectionate person.</h4>
	<select class='chosen-select' id='q7'>
		<option value></option>
		<option value='1'> 1 (Strongly disagree)</option>
		<option value='2'> 2 </option>
		<option value='3'> 3 </option>
		<option value='4'> 4 </option>
		<option value='5'> 5 (Strongly agree)</option>
	</select>
	<h2>Question 8</h2>
	<h4>You are nocturnal.</h4>
	<select class='chosen-select' id='q8'>
		<option value></option>
		<option value='1'> 1 (Strongly disagree)</option>
		<option value='2'> 2 </option>
		<option value='3'> 3 </option>
		<option value='4'> 4 </option>
		<option value='5'> 5 (Strongly agree)</option>
	</select>
	<h2>Question 9</h2>
	<h4>Politics do not interest you.</h4>
	<select class='chosen-select' id='q9'>
		<option value></option>
		<option value='1'> 1 (Strongly disagree)</option>
		<option value='2'> 2 </option>
		<option value='3'> 3 </option>
		<option value='4'> 4 </option>
		<option value='5'> 5 (Strongly agree)</option>
	</select>
	<h2>Question 10</h2>
	<h4>You keep knocking over my laundry hamper and using it like a little cave.</h4>
	<select class='chosen-select' id='q10'>
		<option value></option>
		<option value='1'> 1 (Strongly disagree)</option>
		<option value='2'> 2 </option>
		<option value='3'> 3 </option>
		<option value='4'> 4 </option>
		<option value='5'> 5 (Strongly agree)</option>
	</select>
	<hr>
	<button type='submit' class='btn btn-lg btn-primary btn-block' id='submit' data-toggle="modal" data-target="#mymodal">Submit</button>
	<hr>
	<footer class='footer'>
		<a href='/api/friends'>API Friends List</a> | <a href='https://github.com/frankwichw/friendfinder'>GitHub Repo</a>
	</footer>
</div>

<script>
	// on submit button click, make an object out of the data that we 
	$("#submit").on("click", function(event) {
	  event.preventDefault();

      var newFriend = {
        name: $("#your-name").val().trim(),
        photo: $("#your-photo").val().trim(),
		scores: [
			$("#q1").val(),
			$("#q2").val(),
			$("#q3").val(),
			$("#q4").val(),
			$("#q5").val(),
			$("#q6").val(),
			$("#q7").val(),
			$("#q8").val(),
			$("#q9").val(),
			$("#q10").val()
	  	]
	  };

      $.post("/api/friends", newFriend)
      .then(function(data) {
		//console.log(newFriend);
	  });
	  
	  $.ajax({
      url: "/api/friends",
      method: 'GET'
      }).done(function(response) {
      	console.log(response);
      });

    });
</script>
</body>
</html>